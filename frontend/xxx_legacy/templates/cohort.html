{% extends "page.html" %}


{% block content %}


<script type="text/x-template" id="c-descriptives">
    <p>
        This cohort was built by only including matches that met the following critera:
    </p>
    <ul>
        <li>Were played on the <strong>{{meta.leaderboard}}</strong> leaderboard</li>
        <li>Have a map classification of <strong>{{meta.mapclass}}</strong></li>
        <li>The lowest Elo player has an Elo greater than <strong>{{meta.elo_limit_lower}}</strong></li>
        <li>Started after <strong>{{meta.start_limit_lower}}</strong></li>
        <li>Started before <strong>{{meta.start_limit_upper}}</strong></li>
        <li>Had a game length longer than <strong>{{meta.length_limit_lower}}</strong> in-game minutes</li>
        <li>Had a game length shorter than <strong>{{meta.length_limit_upper}}</strong> in-game minutes</li>
        {% if meta.rm_single_pick %}
        <li>Contains no players who played the same civ more than 40&#65130;</li>
        {% endif %}
    </ul>
    <p>
        The only exception is for the "Win rate by Elo" plot in which the lowest Elo requirement is
        relaxed to allow for all matches in which the lowest player had an Elo greater than
        <strong>{{meta.elo_limit_lower_slide}}</strong>.
    </p>
    
    <h3>Distribution of Matches Played by Patch</h3>
    <img class="img-cohort img-standard" src="outputs/cohort_{{meta.id}}/dist_patch_{{build_id}}.png">

    <h3>Distribution of Matches Played by Map</h3>
    <img class="img-cohort img-standard" src="outputs/cohort_{{meta.id}}/dist_map_{{build_id}}.png">
    
    <h3>Distribution of Matches Played by Map (Normalised)</h3>
    <img class="img-cohort img-standard" src="outputs/cohort_{{meta.id}}/dist_map_normal_{{build_id}}.png">

    <h3>Distribution of Matches Played by Game Length</h3>
    <img class="img-cohort img-standard" src="outputs/cohort_{{meta.id}}/dist_gamelength_{{build_id}}.png">

    <h3>Distribution of Matches Played by Mean Team Elo </h3>
    <img class="img-cohort img-standard" src="outputs/cohort_{{meta.id}}/dist_elo_{{build_id}}.png">

    <h3>Play Rate by Civilisation</h3>
    <img class="img-cohort img-standard" src="outputs/cohort_{{meta.id}}/civ_playrate_{{build_id}}.png">
</script>




<script type="text/x-template" id="c-naive-wr">
    <h3>Naive Win Rates by Civilisation</h3>
    <img class="img-cohort img-standard" src="outputs/cohort_{{meta.id}}/civ_wrNaive_{{build_id}}.png">

    <h3>Naive Win Rates vs Play Rate</h3>
    <img class="img-cohort img-standard" src="outputs/cohort_{{meta.id}}/civ_wrNaive_playrate_{{build_id}}.png">
</script>



<script type="text/x-template" id="c-avg-wr">
    <h3>Averaged Win Rates by Civilisation</h3>
    <img class="img-cohort img-standard" src="outputs/cohort_{{meta.id}}/civ_wrAvg_{{build_id}}.png">

    <h3>Averaged Win Rates vs Play Rate</h3>
    <img class="img-cohort img-standard" src="outputs/cohort_{{meta.id}}/civ_wrAvg_playrate_{{build_id}}.png">
</script>




<script type="text/x-template" id="c-sliding">
</script>




<script type="text/x-template" id="c-indciv">

</script>



<script type="text/x-template" id="c-experimental">
    

</script>




<div id="tab-set" class="demo">
    
    <nav class="nav nav-pills flex-column flex-md-row mb-4">
        <a 
            v-for="tab in tabs"
            v-bind:key="tab"
            v-bind:class="[
                'flex-sm-fill', 
                'text-center', 
                'tab-box', 
                { active: currentTab === tab.id }
            ]"
            v-on:click="currentTab = tab.id"
            href="#">
            {% raw %}{{ tab.desc }}{% endraw %}
        </a>
    </nav>
    <div>
        <keep-alive>
            <component v-bind:is="currentTab" class="tab"></component>
        </keep-alive>
    </div>
    
</div>


<script>
    
    civpick_app = {
        data() {
            return {
                civ : "Aztecs",
                all_civs: [
                    'Aztecs', 'Berbers', 'Bohemians', 'Britons', 'Bulgarians', 'Burgundians', 'Burmese',
                    'Byzantines', 'Celts', 'Chinese', 'Cumans', 'Ethiopians', 'Franks', 'Goths', 'Huns', 'Incas',
                    'Indians', 'Italians', 'Japanese', 'Khmer', 'Koreans', 'Lithuanians', 'Magyars', 'Malay',
                    'Malians', 'Mayans', 'Mongols', 'Persians', 'Poles', 'Portuguese', 'Saracens', 'Sicilians',
                    'Slavs', 'Spanish', 'Tatars', 'Teutons', 'Turks', 'Vietnamese', 'Vikings'
                ]
            }
        }
    }
    
    const app = Vue.createApp({
        data() {
            return {
                currentTab: 'tab-desc',
                tabs: [
                    {id: 'tab-desc', desc:"Descriptives"},
                    {id: 'tab-nwr', desc:"Naive Win-Rates"},
                    {id: 'tab-awr', desc:"Averaged Win-Rates"},
                    {id: 'tab-slide', desc:"Sliding Window"},
                    {id: 'tab-indciv', desc:"Individual Civilisation"},
                    {id: 'tab-experimental', desc:"Experimental"}
                ]
            }
        }
    })
    app.component('tab-desc', { template: '#c-descriptives' })
    app.component('tab-nwr', { template: '#c-naive-wr' })
    app.component('tab-awr', { template: '#c-avg-wr' })
    app.component('tab-slide', { template: '#c-sliding' })
    app.component('tab-indciv', { ...civpick_app, template: '#c-indciv' })
    app.component('tab-experimental', { template: '#c-experimental' })
    app.mount('#tab-set')
</script>


{% endblock %}



